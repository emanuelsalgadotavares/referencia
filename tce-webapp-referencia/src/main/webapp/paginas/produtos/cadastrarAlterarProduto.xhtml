<ui:composition template="../../WEB-INF/templates/page.xhtml"
	  xmlns="http://www.w3.org/1999/xhtml"     
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core"
	  xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">
	
	<h:form id="form">
		<p:messages id="messages" autoUpdate="true" closable="true" />
		<p:panelGrid columns="2">
        	<f:facet name="header">
				<div style="margin:10px;">
					<h:outputText value="Cadastrar Produto" rendered="#{produtoBean.paginaDeCadastro}"/>
					<h:outputText value="Alterar Produto" rendered="#{!produtoBean.paginaDeCadastro}"/>
				</div>
			</f:facet>
        
		    <p:outputLabel for="descricao" value="Descrição:" />
		    <p:inputText id="descricao" value="#{produtoBean.produto.descricao}" required="true" requiredMessage="Digite uma descrição."/>
		 
		    <p:outputLabel for="preco" value="Preço:" />
		    <p:inputText id="preco" value="#{produtoBean.produto.preco}" required="true" requiredMessage="Digite uma preço.">
		    	<f:validateLongRange minimum="0" maximum="999999999" />
		    </p:inputText>
		 
		    <p:outputLabel for="tipo" value="Tipo:" />
	        <p:selectOneMenu id="tipo" value="#{produtoBean.produto.tipo}"
	        				 required="true" requiredMessage="Selecione um tipo de produto.">
	            <f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />
	            <f:selectItems value="#{produtoBean.tiposProduto}" var="tipoProduto"
							   itemLabel="#{tipoProduto.descricao}" itemValue="#{tipoProduto}" />
	        </p:selectOneMenu>

			<f:facet name="footer">
				<div style="margin:10px;">
					<h:commandButton id="btn_cadastrar" action="#{produtoBean.salvarCadastrarProduto}" value="Cadastrar" rendered="#{produtoBean.paginaDeCadastro}" styleClass="bt-padrao" />
					<h:commandButton id="btn_alterar" action="#{produtoBean.salvarAlterarProduto}" value="Alterar" rendered="#{!produtoBean.paginaDeCadastro}" styleClass="bt-padrao" />
				</div>
			</f:facet>
        </p:panelGrid>
	</h:form>
	</ui:define>
</ui:composition>
